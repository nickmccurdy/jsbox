extends layout

block content
  // App information
  h1= title
  p A simple tool for experimenting with JS libraries in your web console.
  p.
    You may use the field below to pick JavaScript libraries to load. Once you
    press "Load", the page will be reloaded with the libraries of your choice
    included. To use your web console with these libraries, simply open it up on
    this page and hack away.
  p.
    Please note that jQuery and Chosen will be loaded at all times, as JS Box
    uses them internally.

  footer
    | &copy; 2014 
    a(href='http://thenickperson.com/') Nicolas McCurdy

  // List of active libraries
  h2 Active libraries
  if activeLibraries
    ul: each activeLibrary in activeLibraries
      if activeLibrary
        li: a(href=activeLibrary.url)= activeLibrary.name
  else
    p none

  // List of all known libraries
  h2 Choose libraries to load
  form
    select.chosen-select(name='libraries', multiple, size=15)
      each library in libraries
        option(value=library.name, selected=isActiveLibrary(library, activeLibraries))= library.name
    input(type='submit', value='Load')

  // Load the JavaScript files for all active libraries
  if activeLibraries
    each activeLibrary in activeLibraries
      if activeLibrary
        script(src=activeLibrary.url)
